---
title: Hooks
---

import Admonition from "react-admonitions";

Hooks - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ React –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π.

> Hooks –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤ - –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React –±–µ–∑ –∫–ª–∞—Å—Å–æ–≤.

<Admonition type="important" title="–í–∞–∂–Ω–æ">
  –•—É–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∞–º –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è
  –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è —Ö—É–∫–∞–º–∏ –º–µ–∂–¥—É –º–Ω–æ–≥–∏–º–∏
  –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏–ª–∏ —Å–æ–æ–±—â–µ—Å—Ç
</Admonition>

–ü–æ—á–∏—Ç–∞—Ç—å –ø—Ä–æ –±–∞–∑–æ–≤—ã–µ —Ö—É–∫–∏ useState –∏ useEffect –≤—ã –º–æ–∂–µ—Ç–µ [—Ç—É—Ç](/react/base-hooks).

## useRef

```javascript
const ref = React.useRef();
```

useRef –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–º–µ–Ω—è–µ–º—ã–π ref-–æ–±—ä–µ–∫—Ç, —Å–≤–æ–π—Å—Ç–≤–æ `.current` –∫–æ—Ç–æ—Ä–æ–≥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `(initialValue)`.
–í–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

```jsx lineNumber=true
function Focus() {
  const textInput = React.useRef();

  const focusTextInput = () => textInput.current.focus();

  return (
    <div>
      <input type="text" ref={textInput} />
      <button onClick={focusTextInput}>Focus the text input</button>
    </div>
  );
}
```

useRef —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–∑–º–µ–Ω—è–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Å–≤–æ—ë–º —Å–≤–æ–π—Å—Ç–≤–µ .current.

<Admonition type="note">
  –•—É–∫ useRef() –ø–æ–ª–µ–∑–µ–Ω –Ω–µ —Ç–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∞—Ç—Ä–∏–±—É—Ç–∞ —Å —Ä–µ—Ñ–æ–º –∫–∞–∫ –≤—ã –ø—Ä–∏–≤—ã–∫–ª–∏
  –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–æ –∏ —É–¥–æ–±–µ–Ω –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª—é–±–æ–≥–æ
  –º—É—Ç–∏—Ä—É–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Ç–µ–º, –∫–∞–∫ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–æ–ª—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –≤
  –∫–ª–∞—Å—Å–∞—Ö.
</Admonition>

useRef() —Å–æ–∑–¥–∞—ë—Ç –æ–±—ã—á–Ω—ã–π JavaScript-–æ–±—ä–µ–∫—Ç.
–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É useRef() –∏ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–∞–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
`{current: ...}` ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ —Ö—É–∫ useRef –¥–∞—Å—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç —Å —Ä–µ—Ñ–æ–º –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ.

<Admonition type="important">
  **useRef** –Ω–µ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤–∞—Å, –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –ú—É—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  —Å–≤–æ–π—Å—Ç–≤–∞ .current –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä.
</Admonition>

## useReducer

useReducer ‚Äì —Ö—É–∫, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ useState, –Ω–æ –¥–∞—é—â–∏–π –±–æ–ª—å—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è.
–û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Ä–µ–¥—é—Å–µ—Ä –∏ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –º–µ—Ç–æ–¥ dispatch.

```javascript
const [state, dispatch] = useReducer(reducer, initialArg, init);
```

–†–µ–¥—é—Å–µ—Ä (—Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑-–∑–∞ —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥—É array - Array.prototype.reduce(reducer, initialValue)) —ç—Ç–æ —à–∞–±–ª–æ–Ω –≤–∑—è—Ç—ã–π –∏–∑ [Redux](/redux/essentials).

<Admonition type="important">
  –•—É–∫ useReducer –æ–±—ã—á–Ω–æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ useState, –∫–æ–≥–¥–∞ —É –≤–∞—Å —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞
  —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π, –∏–ª–∏ –∫–æ–≥–¥–∞ —Å–ª–µ–¥—É—é—â–µ–µ
  —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ.
</Admonition>

**useReducer** —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç –≥–ª—É–±–æ–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –ø–æ—Å–∫–æ–ª—å–∫—É –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å dispatch –≤–º–µ—Å—Ç–æ –∫–æ–ª–±—ç–∫–æ–≤.

G—Ä–∏–º–µ—Ä —Å—á—ë—Ç—á–∏–∫–∞ c –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º useReducer:

```jsx
const initialState = { count: 0 };

function reducer(state, action) {
  switch (action.type) {
    case "increment":
      return { count: state.count + 1 };
    case "decrement":
      return { count: state.count - 1 };
    default:
      throw new Error();
  }
}

function Counter() {
  const [state, dispatch] = React.useReducer(reducer, initialState);
  return (
    <div>
      Count: {state.count}
      <button onClick={() => dispatch({ type: "decrement" })}>-</button>
      <button onClick={() => dispatch({ type: "increment" })}>+</button>
    </div>
  );
}
```

<Admonition type='important' title="–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ">

React –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ dispatch —Å—Ç–∞–±–∏–ª—å–Ω–∞ –∏ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Ä–µ–Ω–¥–µ—Ä–∞—Ö.
–ü–æ—ç—Ç–æ–º—É –µ—ë –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –Ω–µ –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–ø–∏—Å–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Ö—É–∫–æ–≤ useEffect –∏ useCallback.

</Admonition>

### –£–∫–∞–∑–∞–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è useReducer.
–í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π –∏–∑ –Ω–∏—Ö –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏.
–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± ‚Äî –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:

```javascript
const [state, dispatch] = useReducer(reducer, { count: initialCount });
```

<Admonition type="notee" title="–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ">
  React –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ–± –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö state = initialState, –ø–æ–ø—É–ª—è—Ä–Ω–æ–µ
  –≤ Redux. –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–æ–≥–¥–∞ –¥–æ–ª–∂–Ω–æ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –ø—Ä–æ–ø—Å–æ–≤ –∏ –ø–æ—ç—Ç–æ–º—É
  —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞ —Ö—É–∫–∞. –ï—Å–ª–∏ –≤—ã —Å–∏–ª—å–Ω–æ –≤ —ç—Ç–æ–º —É–≤–µ—Ä–µ–Ω—ã, –≤—ã –º–æ–∂–µ—Ç–µ
  –≤—ã–∑–≤–∞—Ç—å useReducer(reducer, undefined, reducer), —á—Ç–æ–±—ã —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ
  Redux, –Ω–æ —ç—Ç–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è.
</Admonition>

## useCallback

–ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ [–º–µ–º–æ–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ](https://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%BC%D0%BE%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F) –∫–∞–ª–ª–±–µ–∫–∞.

```javascript
const memoizedCallback = React.useCallback(() => {
  doSomething(a, b);
}, [a, b]);
```

–•—É–∫ useCallback –≤–µ—Ä–Ω—ë—Ç –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∫–æ–ª–±—ç–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ, –µ—Å–ª–∏ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–Ω–æ–π –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
–≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –∫–æ–ª–±—ç–∫–æ–≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–æ—á–µ—Ä–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ —Å—Å—ã–ª–æ–∫ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, shouldComponentUpdate).

–ü—Ä–∏–º–µ—Ä—ã:

**–•–æ—Ä–æ—à–æ** ‚úÖ

```jsx
// SearchList
function SearchList({ handleClick, query }) {
  const items = useSearch(query);
  const renderItem = (item) => <div onClick={handleClick}>{item}</div>;

  return <div>{items.map(renderItem)}</div>;
}

export default React.memo(SearchList);

// App
function App({ query }) {
  const handleClick = React.useCallback(
    (item) => {
      console.log("Clicked by", item);
    },
    [query]
  );

  return <SearchList query={query} handleClick={handleClick} />;
}
```

handleClick –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω —Ñ—É–Ω–∫—Ü–∏–µ–π useCallback(). –ü–æ–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è **query** –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π, useCallback() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä —Ñ—É–Ω–∫—Ü–∏–∏.

–î–∞–∂–µ –µ—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç MyParent –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, **handleClick** –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º –∏ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç –º–µ–º–æ–∏–∑–∞—Ü–∏—é SearchList.

**–ü–ª–æ—Ö–æ** üõë

```jsx
function App() {
  const onClick = React.useCallback(() => {
    // –≤–∞—à –∫–æ–¥
  }, []);

  return <Button onClick={onClick} />;
}

function Button({ onClick }) {
  return <button onClick={onClick}>Click me</button>;
}
```

_–ï—Å—Ç—å –ª–∏ —Å–º—ã—Å–ª –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å onClick?_

–ù–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–ª—è –≤—ã–∑–æ–≤–∞ useCallback() —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–Ω–æ–≥–æ —Ä–∞–±–æ—Ç—ã.
–ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ App –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ö—É–∫ useCallback().React –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç —Ç–æ–π –∂–µ —Ñ—É–Ω–∫—Ü–∏–∏.
–î–∞–∂–µ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ **onClick** —Ñ—É–Ω–∫—Ü–∏—è –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ (useCallback() –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –µ–µ).
–î–∞–∂–µ –µ—Å–ª–∏ useCallback() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä —Ñ—É–Ω–∫—Ü–∏–∏, —ç—Ç–æ –Ω–µ –ø—Ä–∏–Ω–æ—Å–∏—Ç –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤.

<Admonition type="important" title="–í–∞–∂–Ω–æ">
  –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞. –í—ã –¥–æ–ª–∂–Ω—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É
  useCallback () —Å —Ç–µ–º, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–Ω—É—Ç—Ä–∏ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ
  –≤—ã–∑–æ–≤–∞.
</Admonition>

> –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—Ö–æ–¥–∏—Ç—Å—è –¥–æ—Ä–æ–∂–µ, —á–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

## useMemo

```javascript
const memoizedValue = React.useMemo(() => computeExpensiveValue(a, b), [a, b]);
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç [–º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ](https://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%BC%D0%BE%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F) –∑–Ω–∞—á–µ–Ω–∏–µ.
–•—É–∫ –≤–µ—Ä–Ω–µ—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–Ω–æ–π –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

–ò React.useMemo, –∏ React.useCallback –ø–æ–ª—É—á–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ.

```javascript
React.useMemo(() => {
  fooFunction();
}, [dependencies]);

React.useCallback(() => {
  fooFunction();
}, [dependencies]);
```

<Admonition type="note" title="–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ">
  –û—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ React.useMemo –≤—ã–∑–æ–≤–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é fooFunction
  –∏ –≤–µ—Ä–Ω–µ—Ç –µ–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ React.useCallback –≤–µ—Ä–Ω–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é
  fooFunction, –Ω–µ –≤—ã–∑—ã–≤–∞—è –µ–µ.
</Admonition>

–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React.useMemo, –∫–æ–≥–¥–∞ –≤—ã—á–∏—Å–ª—è–µ–º –¥–æ—Ä–æ–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –Ω–µ —Ö–æ—Ç–∏–º –≤—ã—á–∏—Å–ª—è—Ç—å —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞, –∫–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```jsx

const questions = [
  {
    id:1,
    title:"How old are you?"
  },
  {
    id:2,
    title:"What is your name?"
  }
]

function Question = ({id})=>{
const question  = questions.find( q => q.id === id);
if(question){
  return <div>{question.title}</div>
}
return null

}
```

–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è **question** –±—É–¥–µ—Ç –≤—ã—á–∏—Å–ª—è—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∫–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **Question** –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞–Ω.

–ú—ã –º–æ–∂–µ–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ö—É–∫–æ–º React.useMemo —á—Ç–æ –±—ã –æ–±–æ–π—Ç–∏ —ç—Ç–æ:

```jsx

const questions = [
  {
    id:1,
    title:"How old are you?"
  },
  {
    id:2,
    title:"What is your name?"
  }
]

function Question = ({id})=>{


const question  = React.useMemo(() => questions.find( q => q.id === id),[id] );


if(question){

  return <div>{question.title}</div>
}
return  null

}

```

Te–ø–µ—Ä—å **question** –±—É–¥–µ—Ç –≤—ã—á–∏—Å–ª—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ **id** –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–µ–Ω.

<Admonition type="note" title="–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ">
**–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useMemo –∫–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –∫–∞–∫ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é –≥–∞—Ä–∞–Ω—Ç–∏—é.**
–í –±—É–¥—É—â–µ–º React –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å ¬´–∑–∞–±—ã—Ç—å¬ª –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω–µ–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∏—Ö –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Ä–µ–Ω–¥–µ—Ä–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞.
–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –∫–æ–¥, —á—Ç–æ–±—ã –æ–Ω –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ä–∞–±–æ—Ç–∞–ª –±–µ–∑ useMemo, –∞ –∑–∞—Ç–µ–º –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

</Admonition>

## useContext

```javascript
const value = useContext(MyContext);
```

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç [–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞](/react/context) (–∑–Ω–∞—á–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω–æ–µ –∏–∑ React.createContext) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–æ–ø–æ–º value –±–ª–∏–∂–∞–π—à–µ–≥–æ `<MyContext.Provider>` –Ω–∞–¥ –≤—ã–∑—ã–≤–∞—é—â–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –≤ –¥–µ—Ä–µ–≤–µ.

–ö–æ–≥–¥–∞ –±–ª–∏–∂–∞–π—à–∏–π `<MyContext.Provider>` –Ω–∞–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, —ç—Ç–æ—Ç —Ö—É–∫ –≤—ã–∑–æ–≤–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º —ç—Ç–æ–º—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É `MyContext`.

<Admonition type="note" title="–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ">
  –î–∞–∂–µ –µ—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `React.memo` –∏–ª–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç
  `shouldComponentUpdate`, —Ç–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è, –Ω–∞—á–∏–Ω–∞—è c
  –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–≥–æ `useContext`.
</Admonition>

–ó–∞–ø–æ–º–Ω–∏—Ç–µ, –∞—Ä–≥—É–º–µ–Ω—Ç –¥–ª—è useContext –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å–∞–º –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:

- –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ: **useContext(MyContext)**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ üõë: **useContext(MyContext.Consumer)**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ üõë: **useContext(MyContext.Provider)**

<Admonition type="important" title="–í–∞–∂–Ω–æ">
  –ö–æ–º–ø–æ–Ω–µ–Ω—Ç, –≤—ã–∑—ã–≤–∞—é—â–∏–π useContext, –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
  –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –ï—Å–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∑–∞—Ç—Ä–∞—Ç–µ–Ω, –≤—ã –º–æ–∂–µ—Ç–µ
  –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é –º–µ–º–æ–∏–∑–∞—Ü–∏–∏.
</Admonition>

```jsx
const themes = {
  light: {
    foreground: "#000000",
    background: "#eeeeee",
  },
  dark: {
    foreground: "#ffffff",
    background: "#222222",
  },
};

const ThemeContext = React.createContext(themes.light);

function App() {
  return (
    <ThemeContext.Provider value={themes.dark}>
      <Toolbar />
    </ThemeContext.Provider>
  );
}

function Toolbar(props) {
  return (
    <div>
      <ThemedButton />
    </div>
  );
}

function ThemedButton() {
  const theme = useContext(ThemeContext);
  return (
    <button style={{ background: theme.background, color: theme.foreground }}>
      –Ø —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω —Ç–µ–º–æ–π –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞!
    </button>
  );
}
```

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ Hooks

–û–¥–Ω–æ–π –∏–∑ —Å–∞–º—ã—Ö –∫—Ä—É—Ç—ã—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π Hooks —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –¥–µ–ª–∏—Ç—å—Å—è –ª–æ–≥–∏–∫–æ–π –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —Å–æ–∑–¥–∞–≤–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π Hook.

### useToggle

```javascript
import React from "react";

const useToggle = (initialState) => {
  const [on, setOn] = React.useState(initialState);

  const onToggle = React.useCallback(() => setOn((prev) => !prev), []);
  const setToggle = React.useCallback((nextValue) => setOn(nextValue), []);

  return [on, onToggle, setToggle];
};

export default useToggle;
```

_–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:_

```jsx live=true inline=true
const App = () => {
  const [isOpen, onToggle, setOpen] = useToggle(false);
  return (
    <div>
      <button style={btnStyles} onClick={onToggle}>
        Toggle
      </button>
      <button style={btnStyles} onClick={() => setOpen(true)}>
        Open
      </button>
      <button style={btnStyles} onClick={() => setOpen(false)}>
        Close
      </button>
      <p>{isOpen ? "Opened" : "Closed"}</p>
    </div>
  );
};

const btnStyles = {
  margin: 5,
  padding: 10,
};

const useToggle = (initialState) => {
  const [on, setOn] = React.useState(initialState);
  const onToggle = React.useCallback(() => setOn((prev) => !prev), []);
  const setToggle = React.useCallback((nextValue) => setOn(nextValue), []);

  return [on, onToggle, setToggle];
};
render(<App />);
```

### useWindowResizer

```javascript
const useWindow = () => {
  const [data, setData] = React.useState({ width: 0, heigth: 0 });

  React.useEffect(() => {
    const onResize = (e) => {
      setData({
        width: e.target.innerWidth,
        height: e.target.innerHeigth,
      });
    };

    window.addEventListener("resize", onResize);

    return () => {
      window.removeEventListener("resize", onResize);
    };
  }, []);

  return data;
};
```

```javascript
const useAttachEvent = (event, handler, node = document) => {
  React.useEffect(() => {
    node.addEventListener(event, handler);

    return () => {
      node.removeEventListener(event, handler);
    };
  }, []);
};
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```jsx
const App = () => {
  useAttachEvent("click", () => console.log("Hello"));
  // attach event to window
  useAttachEvent("click", () => console.log("Hello"), window);

  return <div>App</div>;
};
```

### useFetch

```javascript
const useFetch = (url) => {
  const [data, setData] = React.useState(null);

  const onFetchData = async () => {
    try {
      const response = await fetch(url);

      const data = await response.json();
      setData(data);
    } catch (e) {
      setData(null);
    }
  };

  React.useEffect(() => {
    onFetchData();
  }, [url]);

  return data;
};
```

## –ü—Ä–∞–∫—Ç–∏–∫–∞ üë©‚Äçüíªüë®‚Äçüíª

1. –ù–∞–ø–∏—Å–∞—Ç—å —Ö—É–∫ **useTimeout**

```jsx
function Component({ ms }) {
  const [isReady, cancel, reset] = useTimeout(ms);

  if (isReady) {
    return (
      <div>
        <p>Ready</p>
        <button onClick={() => reset()}>Reset</button>
      </div>
    );
  }

  return <button onClick={() => cancel()}>Cancel</button>;
}
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ** üòé

- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ **reset**

2. –ù–∞–ø–∏—Å–∞—Ç—å —Ö—É–∫ **useInterval**

```jsx
const delay = 1000;
const TimeOut = () => {
  const [count, setCount] = React.useState(0);

  const [isRunning, start, stop] = useInterval(() => {
    setCount(count + 1);
  }, delay);

  const onClick = isRunning ? stop : start;

  return (
    <div>
      <h1>count: {count}</h1>
      <div>
        <button onClick={onClick}>{isRunning ? "stop" : "start"}</button>
      </div>
    </div>
  );
};
```

## –ü–æ—á–∏—Ç–∞—Ç—å üìö

- –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ [useRef](https://ru.reactjs.org/docs/hooks-reference.html#useref)
- –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ [useReducer](https://ru.reactjs.org/docs/hooks-reference.html#usereducer)
- –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ [useCallback](https://ru.reactjs.org/docs/hooks-reference.html#usecallback)
- –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ [useMemo](https://ru.reactjs.org/docs/hooks-reference.html#usememo)
- –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ [useContext](https://ru.reactjs.org/docs/hooks-reference.html#usecontext)
