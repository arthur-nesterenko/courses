---
title: Context API
---

import Admonition from "react-admonitions";

–í —Ç–∏–ø–∏—á–Ω–æ–º React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ (–æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è –∫ –¥–æ—á–µ—Ä–Ω–µ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É) —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–ø—Å–æ–≤.
–û–¥–Ω–∞–∫–æ, —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± –º–æ–∂–µ—Ç –±—ã—Ç—å —á–µ—Ä–µ—Å—á—É—Ä –≥—Ä–æ–º–æ–∑–¥–∫–∏–º –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–ø—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫, UI-—Ç–µ–º–∞),
–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤–æ –º–Ω–æ–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

> > –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–æ—Å–æ–± –¥–µ–ª–∏—Ç—å—Å—è —Ç–∞–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –±–µ–∑
> > –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —è–≤–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—Ä–æ–ø—Å—ã —á–µ—Ä–µ–∑ –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ä–µ–≤–∞.

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Context ? ü§î

- –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å ¬´–≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏¬ª –¥–ª—è –¥–µ—Ä–µ–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ React, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Ç–µ–∫—É—â–∏–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Ç–µ–º–∞ –∏–ª–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —è–∑—ã–∫.
- –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–∂–Ω–æ –ø—Ä–æ–∫–∏–Ω—É—Ç—å props –º–∏–Ω—É—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ—á–µ—Ä–Ω–∏—Ö —É—Ä–æ–≤–Ω–µ–π –≤ –Ω—É–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

## API

### React.createContext

```javascript
const MyContext = React.createContext(defaultValue);
```

–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ Context.
–ö–æ–≥–¥–∞ React —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç,
React –ø–æ–ª—É—á–∏—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ Provider –≤—ã—à–µ –≤ –¥–µ—Ä–µ–≤–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–ê—Ä–≥—É–º–µ–Ω—Ç defaultValue –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ Provider –≤—ã—à–µ –≤ –¥–µ—Ä–µ–≤–µ.
–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –∏–∑–æ–ª—è—Ü–∏–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –∏—Ö.

<Admonition type="note" title="–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ">
  E—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å undefined –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ Provider, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ —ç—Ç–æ—Ç
  –∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å defaultValue.
</Admonition>

### Context.Provider

```javascript
<MyContext.Provider value={/* –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ */}>
```

–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –ö–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Provider –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç, –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–ø value, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω –≤–æ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ —è–≤–ª—è—é—â–∏–µ—Å—è –ø–æ—Ç–æ–º–∫–∞–º–∏ —ç—Ç–æ–≥–æ Provider –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
–û–¥–∏–Ω Provider –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, –ø–æ—Ç—Ä–µ–±–ª—è—é—â–∏–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç.
–¢–∞–∫ –∂–µ Provider –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –≤–ª–æ–∂–µ–Ω—ã –¥—Ä—É–≥ –≤ –¥—Ä—É–≥–∞, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—è –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≥–ª—É–±–∂–µ –≤ –¥–µ—Ä–µ–≤–µ.

<Admonition type="important" title="–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ">
  –í—Å–µ Consumer, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–æ–º–∫–∞–º–∏ Provider, –±—É–¥—É—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è,
  –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–ø value —É Provider –∏–∑–º–µ–Ω–∏—Ç—Å—è. Consumer (–≤–∫–ª—é—á–∞—è .contextType –∏
  useContext) –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å, –Ω–µ
  –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ —Ä–µ–Ω–¥–µ—Ä—ã —Å –ø–æ–º–æ—â—å—é
  shouldComponentUpdate.
</Admonition>

–ò–∑–º–µ–Ω–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∏ —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è –∞–ª–≥–æ—Ä–∏—Ç–º,
–∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π [Object.is.](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/is#Description)

<Admonition type="caution" title="–ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å">
  –ü–æ—Å–∫–æ–ª—å–∫—É –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Å—ã–ª–æ—á–Ω—É—é –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–æ–≥–¥–∞
  –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å
  –Ω–µ–ø—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ö( Consumer ), –∫–æ–≥–¥–∞ Provider
  —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥ –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤—Å–µ—Ö
  –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π( Consumer ) –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫( Provider )
  –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –Ω–æ–≤—ã–π –æ–±—å–µ–∫—Ç:
</Admonition>

üõë –ü–ª–æ—Ö–æ

```jsx
class App extends React.Component {
  render() {
    return (
      <Provider value={{ something: "something" }}>
        <Content />
      </Provider>
    );
  }
}
```

‚úÖ –•–æ—Ä–æ—à–æ

```jsx
class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      value: { something: "something" },
    };
  }

  render() {
    return (
      <Provider value={this.state.value}>
        <Content />
      </Provider>
    );
  }
}
```

‚ö†Ô∏è[**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**](https://ru.reactjs.org/docs/context.html#caveats)

### Class.contextType

```jsx
class MyClass extends React.Component {
  componentDidMount() {
    const value = this.context;
    /* –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ —ç—Ç–∞–ø–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è –∑–Ω–∞—á–µ–Ω–∏–µ MyContext */
  }
  componentDidUpdate() {
    let value = this.context;
    /* ... */
  }
  componentWillUnmount() {
    const value = this.context;
    /* ... */
  }
  render() {
    const value = this.context;
    /* –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —á—Ç–æ-—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É—è –∑–Ω–∞—á–µ–Ω–∏–µ MyContext */
  }
}
MyClass.contextType = MyContext;
```

–í —Å–≤–æ–π—Å—Ç–≤–æ –∫–ª–∞—Å—Å–∞ contextType –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é React.createContext().
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–ª–∏–∂–∞–π—à–µ–µ –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ this.context.
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, –∫–∞–∫ –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞, —Ç–∞–∫ –∏ –≤ —Ä–µ–Ω–¥–µ—Ä –º–µ—Ç–æ–¥–µ.

<Admonition type="important" title="–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ">
  –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∏—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç API.
</Admonition>

> –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–∞, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å static –ø–æ–ª–µ –∫–ª–∞—Å—Å–∞, —á—Ç–æ–±—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à contextType.

```jsx
class MyClass extends React.Component {
  static contextType = MyContext;
  render() {
    let value = this.context;
    /* –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —á—Ç–æ-—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É—è –∑–Ω–∞—á–µ–Ω–∏–µ MyContext */
  }
}
```

### Context.Consumer

```jsx
<MyContext.Consumer>
  {value => /* –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —á—Ç–æ-—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É—è –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ */}
</MyContext.Consumer>
```

- Consumer ‚Äî —ç—Ç–æ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
  –í —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.

- Consumer –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
  –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
  –ü–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç value –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω –±–ª–∏–∂–∞–π—à–µ–º—É (–≤–≤–µ—Ä—Ö –ø–æ –¥–µ—Ä–µ–≤—É) –∑–Ω–∞—á–µ–Ω–∏—é —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –∞ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–ø—É value Provider –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
  –ï—Å–ª–∏ —Ç–∞–∫–æ–≥–æ Provider –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∞—Ä–≥—É–º–µ–Ω—Ç value –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω –∑–Ω–∞—á–µ–Ω–∏—é defaultValue, –∫–æ—Ç–æ—Ä–æ–µ –±—ã–ª–æ –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ createContext().

```jsx
// create context

export const themes = {
  light: {
    foreground: "#000000",
    background: "#eeeeee",
  },
  dark: {
    foreground: "#ffffff",
    background: "#222222",
  },
};

const ThemeContext = React.createContext(
  { theme: themes.dark, toggleTheme: () => {} } // –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
);
// Themed button
class ThemedButton extends React.Component {
  render() {
    const { theme } = this.context;
    return (
      <button {...this.props} style={{ backgroundColor: theme.background }} />
    );
  }
}
ThemedButton.contextType = ThemeContext;

function ThemeTogglerButton() {
  // ThemeTogglerButton –ø–æ–ª—É—á–∞–µ—Ç –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  // –Ω–µ —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–µ UI-—Ç–µ–º—ã, –Ω–æ –∏ —Ñ—É–Ω–∫—Ü–∏—é toggleTheme.
  return (
    <ThemeContext.Consumer>
      {({ theme, toggleTheme }) => (
        <button
          onClick={toggleTheme}
          style={{ backgroundColor: theme.background }}
        >
          Toggle Theme
        </button>
      )}
    </ThemeContext.Consumer>
  );
}

class App extends React.Component {
  constructor(props) {
    super(props);

    this.toggleTheme = () => {
      this.setState((state) => ({
        theme: state.theme === themes.dark ? themes.light : themes.dark,
      }));
    };

    // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞,
    // –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤ Provider-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
    this.state = {
      theme: themes.light,
      toggleTheme: this.toggleTheme,
    };
  }

  render() {
    // –í—Å—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    return (
      <ThemeContext.Provider value={this.state}>
        <ThemeTogglerButton />
      </ThemeContext.Provider>
    );
  }
}
```

## –ü—Ä–∞–∫—Ç–∏–∫–∞ üë©‚Äçüíªüë®‚Äçüíª

–°–æ–∑–¥–∞—Ç—å `<UserProvider/>` —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

```javascript
const UserContext = React.createContext({
  user: {
    firstName: "John",
    lastName: "Doe",
    age: 10,
  },
  updateUser: () => {}, // (newUser) => void
});
```

–°–æ–∑–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```jsx
function App() {
  return (
    <UserProvider>
      <Header>
        <User />
      </Header>
      <UserForm />
    </UserProvider>
  );
}
```

- **User** - –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **UserForm** - —Ñ–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏:
  - **firstName**;
  - **lastName**;
  - **age**;

–ü–æ –∫–ª–∏–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É **update** –¥–∞–Ω–Ω—ã–µ —é–∑–µ—Ä–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ **User**.

## –ü–æ—á–∏—Ç–∞—Ç—å üìö

- [Prop Drilling](https://kentcdodds.com/blog/prop-drilling)
- [React context](https://ru.reactjs.org/docs/context.html#reactcreatecontext)
- [Context in 5 min](https://tproger.ru/translations/react-context-in-5-min)
- [useContext](https://build-in-saratov.com/usecontext-hook)
