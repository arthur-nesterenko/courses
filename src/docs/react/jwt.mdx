---
title: JWT
---

import Admonition from "react-admonitions";

## –ß—Ç–æ —Ç–∞–∫–æ–µ JWT ? ü§î

JSON Web Token (JWT) ‚Äî —ç—Ç–æ JSON –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ RFC 7519.
–û–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –ø–µ—Ä–µ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –º–µ–∂–¥—É –¥–≤—É–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏.
–î–ª—è –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ (header) —Å –æ–±—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ —Ç–æ–∫–µ–Ω—É, –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (payload), —Ç–∞–∫–∏–µ –∫–∞–∫ id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ–≥–æ —Ä–æ–ª—å –∏ —Ç.–¥. –∏ –ø–æ–¥–ø–∏—Å–∏ (signature).

<Admonition type="important" title="JWT">
  –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, JWT ‚Äî —ç—Ç–æ –ª–∏—à—å —Å—Ç—Ä–æ–∫–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ
  header.payload.signature.
</Admonition>

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞
—Å–∞–π—Ç–µ. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –µ—Å—Ç—å —Ç—Ä–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞:

- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å;
- —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
- —Å–µ—Ä–≤–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏;

–°–µ—Ä–≤–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –±—É–¥–µ—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–æ–∫–µ–Ω–æ–º, —Å –ø–æ–º–æ—â—å—é
–∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω –ø–æ–∑–¥–Ω–µ–µ —Å–º–æ–∂–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

<img
  src="https://media.proglib.io/wp-uploads/2018/07/21462M131-%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F.png"
  alt="jwt"
/>

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

–°–ø–µ—Ä–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞ (—ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–∞—Ä–∞ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å, –ª–∏–±–æ Facebook –∫–ª—é—á, –ª–∏–±–æ Google –∫–ª—é—á, –ª–∏–±–æ –∫–ª—é—á –æ—Ç –¥—Ä—É–≥–æ–π —É—á–µ—Ç–∫–∏).
–ó–∞—Ç–µ–º —Å–µ—Ä–≤–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–µ—Ç JWT –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ –Ω–µ–º—É –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ JWT.
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç API –∑–∞–ø—Ä–æ—Å, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º—É —Å –∑–∞–ø—Ä–æ—Å–æ–º JWT —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–µ–º, –∑–∞ –∫–æ–≥–æ —Å–µ–±—è –≤—ã–¥–∞–µ—Ç.
–í —ç—Ç–æ–π —Å—Ö–µ–º–µ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω —Ç–∞–∫, —á—Ç–æ —Å–º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –≤—Ö–æ–¥—è—â–∏–π JWT –∏–º–µ–Ω–Ω–æ —Ç–µ–º, —á—Ç–æ –±—ã–ª —Å–æ–∑–¥–∞–Ω —Å–µ—Ä–≤–µ—Ä–æ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

## JWT –≤ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö ‚úçüèª

–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ state –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
–ê —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å JWT (JSON Web Token), —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –≤ [localStorage](https://learn.javascript.ru/localstorage), —á—Ç–æ–±—ã –µ–≥–æ –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–≥ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É —Å–µ–∞–Ω—Å–∞–º–∏, –µ—Å–ª–∏ –æ–Ω–∏ —è–≤–Ω–æ –Ω–µ –≤—ã—Ö–æ–¥—è—Ç –∏–∑ —Å–∏—Å—Ç–µ–º—ã.

```jsx lineNumbers=true
const TOKEN_KEY = "TOKEN";

const App = () => {
  const [isAuth, setAuth] = React.useState(
    () => !!localStorage.getItem(TOKEN_KEY)
  );
  const login = async (login, password) => {
    try {
      const { token, ...user } = await API.login(login, password);
      localStorage.setItem(TOKEN_KEY, token);
      setAuth(true);
    } catch (error) {
      setAuth(false);
      // handle error
    }
  };

  const logout = () => {
    localStorage.removeItem(TOKEN_KEY, token);
  };

  return <div>{isAuth ? "User authorized" : "Please login"}</div>;
};
```

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è –º—ã –¥–æ–ª–∂–Ω—ã —Å–ª–∞—Ç—å –ø–æ–ª—É—á–µ–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ,
–¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ –±—ã —Å–µ—Ä–≤–µ—Ä –º–æ–≥ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –∫—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.
–°–∞–º–æ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –º–µ—Å—Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ [HTTP Headers](https://developer.mozilla.org/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8)

–í—ã–≥–ª—è–¥–µ—Ç—å —ç—Ç–æ –º–æ–∂–µ—Ç —Ç–∞–∫:

```javascript lineNumbers=true
const apiRequest = (url, params = { headers: {} }) => {
  params.headers.Authorization = "Bearer " + localStorage.getItem("TOKEN");
  return originalFetch(url, params);
};
```

## –ß—Ç–æ —Ç–∞–∫–æ–µ HTTP Headers? ü§î

–ó–∞–≥–æ–ª–æ–≤–∫–∏ HTTP —è–≤–ª—è—é—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç—å—é HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤, –∏ –æ–Ω–∏ –Ω–µ—Å—É—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±—Ä–∞—É–∑–µ—Ä–µ –∫–ª–∏–µ–Ω—Ç–∞,
–∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —Å–µ—Ä–≤–µ—Ä–µ –∏ –º–Ω–æ–≥–æ–º –¥—Ä—É–≥–æ–º.

<img
  src="https://cdn.tutsplus.com/net/uploads/legacy/511_http/http_diagram.png"
  alt="http header"
/>

## –ü—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–æ—É—Ç üïµüèª‚Äç‚ôÇÔ∏è

[React router auth](https://reactrouter.com/web/example/auth-workflow)

–≠—Ç–æ —Ç–∞–∫–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø–µ—Ä–µ–¥–∞—ë–º `true` –∏–ª–∏ `false`, –∏ –æ–Ω –ª–∏–±–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∫–∞–∫–æ–π-—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –ª–∏–±–æ –¥–µ–ª–∞–µ—Ç `redirect`.

```jsx
const ProtectedRoute({ children, redirectTo,isAllow,...rest }) {



  return (
    <Route
      {...rest}
      render={({ location }) =>
        isAllow ? (
          children
        ) : (
          <Redirect
            to={{
              pathname: redirectTo,
              state: { from: location }
            }}
          />
        )
      }
    />
  );
}

ProtectedRoute.defaultProps = {
    redirectTo:'/',
    isAllow: false
}

```

## –ü—Ä–∞–∫—Ç–∏–∫–∞ (–î–ó)üë©‚Äçüíªüë®‚Äçüíª

<iframe
  src="https://codesandbox.io/embed/shop-project-ms7cy?fontsize=14&hidenavigation=1&theme=dark"
  style={{
    width: "100%",
    height: "500px",
    border: 0,
    borderRadius: "4px",
    overflow: "hidden",
  }}
  title="shop-project"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
/>

- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ Redux
- –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–∏—Å–∫–∞ UserFind (–ü—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–æ—É—Ç)
- –°–æ–∑–¥–∞—Ç—å –°—Ç—Ä–∞–Ω–∏—Ü—É –¢–æ–≤–∞—Ä–∞ GoodFindOne (–ü—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–æ—É—Ç)
- –°–æ–∑–¥–∞—Ç—å –ö–æ—Ä–∑–∏–Ω—É OrderGoodFind (–ü—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–æ—É—Ç)

## –ü–æ—á–∏—Ç–∞—Ç—å üìö

- [JWT –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ React + Redux](https://medium.com/freecodecamp-russia-%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%BE%D1%8F%D0%B7%D1%8B%D1%87%D0%BD%D1%8B%D0%B9/%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-jwt-%D0%B2-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B8-react-redux-%D0%B4%D0%BB%D1%8F-%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-585bfe1399b0)
- [JWT –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º](https://proglib.io/p/json-tokens)
- [GraphQL + –ü—Ä–æ–µ–∫—Ç—ã](http://doc.a-level.com.ua/frontend-graphql-backs/)
